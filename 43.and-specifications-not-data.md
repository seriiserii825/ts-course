# 43. And: —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏, –∞ –Ω–µ –¥–∞–Ω–Ω—ã–µ

## –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —É–∑–∫–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω –¥–ª—è —Ç–∏–ø–æ–≤ any

–û—Ç–ª–∏—á–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ ‚Äî 43. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —É–∑–∫–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω –¥–ª—è —Ç–∏–ø–æ–≤ any.
TypeScript –ø–æ–∑–≤–æ–ª—è–µ—Ç ¬´–≤—ã–∫–ª—é—á–∏—Ç—å¬ª —Å–∏—Å—Ç–µ–º—É —Ç–∏–ø–æ–≤ —Å –ø–æ–º–æ—â—å—é any, –Ω–æ —ç—Ç–æ –∫–∞–∫ –æ–±–µ–∑–æ–ø–∞—Å–∏—Ç—å –≤—Å—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ–¥–Ω–∏–º // @ts-ignore. –ò–Ω–æ–≥–¥–∞ any –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω—É–∂–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –∏–ª–∏ —Ä–∞–±–æ—Ç–µ —Å –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏),
–Ω–æ –≤–∞–∂–Ω–æ –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞—Ç—å –µ–≥–æ –¥–µ–π—Å—Ç–≤–∏–µ: —á–µ–º –º–µ–Ω—å—à–µ –æ–±–ª–∞—Å—Ç—å, –≥–¥–µ –æ–Ω –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è, —Ç–µ–º –ª—É—á—à–µ.

### üîπ 1) ‚ùå –ü–ª–æ—Ö–æ ‚Äî any –≤ —Å–∏–≥–Ω–∞—Ç—É—Ä–µ —Ñ—É–Ω–∫—Ü–∏–∏

```ts
function processData(data: any) {
  console.log(data.name.toUpperCase()); // –º–æ–∂–µ—Ç –±—ã—Ç—å undefined
}
```

‚û°Ô∏è –û—à–∏–±–∫–∏ –Ω–µ –ª–æ–≤—è—Ç—Å—è –Ω–∏–≥–¥–µ. data –º–æ–∂–µ—Ç –±—ã—Ç—å —á–µ–º —É–≥–æ–¥–Ω–æ.

‚úÖ –•–æ—Ä–æ—à–æ ‚Äî —Å—É–∑–∏—Ç—å –∑–æ–Ω—É:

```ts
function processData(data: unknown) {
  if (typeof data === "object" && data && "name" in data) {
    console.log((data as { name: string }).name.toUpperCase());
  }
}
```

‚û°Ô∏è –ò—Å–ø–æ–ª—å–∑—É–µ–º unknown –∏ —Å—É–∑–∏–ª–∏ —Ç–∏–ø —á–µ—Ä–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫—É.

### üîπ 2) ‚ùå –ü–ª–æ—Ö–æ ‚Äî –≥–ª–æ–±–∞–ª—å–Ω—ã–π any –≤ –¥–∞–Ω–Ω—ã—Ö

```ts
const response: any = await fetch("/api/user").then((r) => r.json());
console.log(response.email.toLowerCase()); // –º–æ–∂–µ—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å
```

‚úÖ –•–æ—Ä–æ—à–æ ‚Äî –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ:

```ts
type User = { id: string; email: string; name?: string };
const response = await fetch("/api/user").then((r) => r.json());
const user = response as User; // –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –æ–±–ª–∞—Å—Ç—å any
console.log(user.email.toLowerCase());
```

‚û°Ô∏è as any –ø—Ä–∏–º–µ–Ω–µ–Ω–æ –≤ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ, –¥–∞–ª—å—à–µ ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Ç–∏–ø—ã.

### üîπ 3) ‚ùå –ü–ª–æ—Ö–æ ‚Äî any –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏

```ts
const items: any[] = getItems(); // —Ç–µ—Ä—è–µ–º —Ç–∏–ø –≤—Å–µ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏
for (const item of items) console.log(item.price);
```

‚úÖ –•–æ—Ä–æ—à–æ ‚Äî –æ–±–µ—Ä–Ω—É—Ç—å any –≤ —Ñ—É–Ω–∫—Ü–∏—é –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è:

```ts
function parseItems(raw: unknown): Item[] {
  if (!Array.isArray(raw)) return [];
  return raw.filter((x): x is Item => typeof x === "object" && "price" in x);
}
```

```ts
const items = parseItems(getItems());
```

‚û°Ô∏è any –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ parseItems, –Ω–µ –ø—Ä–æ—Å–∞—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞—Ä—É–∂—É.

###

üîπ 4) ‚ùå –ü–ª–æ—Ö–æ ‚Äî –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è any

```ts
let data: any = getRaw(); // —Ç–µ—Ä—è–µ–º –≤—Å–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏
data = transform(data);
data = cleanup(data);
```

‚úÖ –•–æ—Ä–æ—à–æ ‚Äî –¥–µ—Ä–∂–∞—Ç—å any –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏:

```ts
function normalize(raw: unknown): NormalizedData {
  const obj = raw as any; // –¥–æ–ø—É—Å—Ç–∏–º–æ –ª–æ–∫–∞–ª—å–Ω–æ
  return {
    name: String(obj.name ?? "Unknown"),
    email: String(obj.email ?? ""),
  };
}
```

‚û°Ô∏è any –∂–∏–≤—ë—Ç —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏, –Ω–µ –≤—ã—Ö–æ–¥–∏—Ç –Ω–∞—Ä—É–∂—É.

### üîπ 5) ‚ùå –ü–ª–æ—Ö–æ ‚Äî any –≤ generic

```ts
function identity<T = any>(value: T): T {
  return value;
}
```

‚úÖ –•–æ—Ä–æ—à–æ ‚Äî –ø—É—Å—Ç—å –≤—ã–∑—ã–≤–∞—é—â–∏–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç T

```ts
function identity<T>(value: T): T {
  return value;
}
```

‚û°Ô∏è –ï—Å–ª–∏ –Ω—É–∂–µ–Ω fallback, –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å T = unknown, –∞ –Ω–µ any.

### üîπ 6) ‚ùå –ü–ª–æ—Ö–æ ‚Äî any –≤ —Ç–∏–ø–∞—Ö —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫

```ts
declare function useLegacyLib(config: any): any;
```

‚úÖ –•–æ—Ä–æ—à–æ ‚Äî –æ–ø–∏—Å–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏–∑–≤–µ—Å—Ç–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç

```ts
interface LegacyConfig {
  retries?: number;
  verbose?: boolean;
}
type LegacyResult = { success: boolean; data?: unknown };

declare function useLegacyLib(config: LegacyConfig): LegacyResult;
```

‚û°Ô∏è –°–æ—Ö—Ä–∞–Ω–∏–ª–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å, –Ω–æ —Å—É–∑–∏–ª–∏ –¥–∏–∞–ø–∞–∑–æ–Ω any.

### üîπ 7) any –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ JSON

```ts
const data: any = JSON.parse(raw); // ‚ùå
```

‚úÖ –õ—É—á—à–µ:

```ts
function safeParse<T>(raw: string): T | undefined {
  try {
    return JSON.parse(raw) as T;
  } catch {
    return undefined;
  }
}
```

```ts
const user = safeParse<User>(raw);
```

‚û°Ô∏è –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –∏ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –æ–±–ª–∞—Å—Ç—å.

### üîπ 8) –í—Ä–µ–º–µ–Ω–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è JS ‚Üí TS

–ï—Å–ª–∏ –º–∏–≥—Ä–∏—Ä—É–µ—Ç–µ –∫–æ–¥ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ any —Ç–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–Ω–æ:

```ts
function oldApi(data: any) {
  /* legacy code */
} // –¥–æ–ø—É—Å—Ç–∏–º–æ
```

–ù–æ –ø–æ –º–µ—Ä–µ –ø–µ—Ä–µ–Ω–æ—Å–∞ —É—Ç–æ—á–Ω—è–π—Ç–µ:

```ts
function oldApi(data: LegacyInput): LegacyOutput {
  /* typed version */
}
```

### üîπ 9) –í–º–µ—Å—Ç–æ any —á–∞—â–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

–°–∏—Ç—É–∞—Ü–∏—è –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞
–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ç–∏–ø –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö unknown
–†–∞–∑–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ç–∏–ø–æ–≤ `string
–ù—É–∂–Ω–æ ¬´–∑–∞—Ç–∫–Ω—É—Ç—å¬ª generic unknown –∏–ª–∏ never
Legacy-–æ–±—ä–µ–∫—Ç –ß–∞—Å—Ç–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Partial<T>

### üîπ 10) –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏-–ø–µ—Å–æ—á–Ω–∏—Ü—ã

```ts
function sandbox(fn: (unsafe: any) => void) {
  // any –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –≤–Ω—É—Ç—Ä–∏
  fn({ secret: "data" });
}
sandbox((obj) => console.log(obj.secret.toUpperCase()));
```

‚û°Ô∏è any –æ—Å—Ç–∞—ë—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –≥—Ä–∞–Ω–∏—Ü—ã —Ñ—É–Ω–∫—Ü–∏–∏, –Ω–µ –∑–∞—Ä–∞–∂–∞–µ—Ç –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã.

### üí° –ò—Ç–æ–≥

- –ü—Ä–∏–Ω—Ü–∏–ø –ß—Ç–æ –¥–µ–ª–∞—Ç—å
- –õ–æ–∫–∞–ª–∏–∑—É–π—Ç–µ any —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏, –Ω–µ –≤ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞—Ö
- –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ unknown –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ: —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ generic –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å—Ç–∞–≤—å—Ç–µ unknown
- –°—Ä–∞–∑—É —É—Ç–æ—á–Ω—è–π—Ç–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞–π—Ç–µ any –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–∏–ø
- –£–¥–∞–ª—è–π—Ç–µ –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–µ –æ—Å—Ç–∞–≤–ª—è–π—Ç–µ any –Ω–∞–≤—Å–µ–≥–¥–∞

### üß© –ì–ª–∞–≤–Ω–∞—è –º—ã—Å–ª—å:

any ‚Äî —ç—Ç–æ –∞–≤–∞—Ä–∏–π–Ω—ã–π –≤—ã—Ö–æ–¥, –Ω–µ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ.

–î–µ–ª–∞–π—Ç–µ –æ–±–ª–∞—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏—è any –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–π, —á—Ç–æ–±—ã –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ –æ—Å—Ç–∞–≤–∞–ª—Å—è —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º.
