# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ unknown –≤–º–µ—Å—Ç–æ any –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏–π —Å –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–º —Ç–∏–ø–æ–º

–û—Ç–ª–∏—á–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ–º—ã –ø—Ä–æ any –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ç–∏–ø–æ–≤:
–ü—Ä–∞–≤–∏–ª–æ 46 ‚Äî ¬´–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ unknown –≤–º–µ—Å—Ç–æ any –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏–π —Å –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–º —Ç–∏–ø–æ–º¬ª
unknown ‚Äî —ç—Ç–æ ¬´–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∞–Ω–∞–ª–æ–≥¬ª any: –æ–Ω —Ç–∞–∫–∂–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ª—é–±–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –Ω–æ –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –≤–∞—Å —è–≤–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∏–ø –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º. –ù–∏–∂–µ ‚Äî –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã.

## üîπ 1) YAML/JSON-–ø–∞—Ä—Å–µ—Ä

–ü–ª–æ—Ö–æ (any):

```ts
import yaml from "js-yaml";

function parseYAML(source: string): any {
  return yaml.load(source); // –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å —á—Ç–æ —É–≥–æ–¥–Ω–æ
}
```

```ts
const doc = parseYAML("foo: bar");
console.log(doc.foo.toUpperCase()); // üí• runtime error, –µ—Å–ª–∏ doc –Ω–µ –æ–±—ä–µ–∫—Ç
```

–•–æ—Ä–æ—à–æ (unknown):

```ts
import yaml from "js-yaml";

function parseYAML(source: string): unknown {
  return yaml.load(source);
}

const doc = parseYAML("foo: bar");

if (typeof doc === "object" && doc !== null && "foo" in doc) {
  console.log((doc as { foo: string }).foo.toUpperCase());
}
```

‚û°Ô∏è –ú—ã –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –º–æ–∂–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ª—é–±—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏,
–Ω–æ —Ç–µ–ø–µ—Ä—å TypeScript –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–µ—Ä–µ–¥ –æ–±—Ä–∞—â–µ–Ω–∏–µ–º –∫ —Å–≤–æ–π—Å—Ç–≤–∞–º.

## üîπ 2) –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π JSON.parse

–ü–ª–æ—Ö–æ:

```ts
function parseJSON(input: string): any {
  return JSON.parse(input);
}

const data = parseJSON('{"count":42}');
console.log(data.count.toFixed(2)); // üí• –µ—Å–ª–∏ –Ω–µ —á–∏—Å–ª–æ
```

–•–æ—Ä–æ—à–æ:

```ts
function parseJSON(input: string): unknown {
  return JSON.parse(input);
}

const data = parseJSON('{"count":42}');
if (typeof data === "object" && data && "count" in data) {
  const { count } = data as { count: number };
  console.log(count.toFixed(2));
}
```

‚û°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ ‚Äî –ø–æ–∫–∞ –Ω–µ –ø—Ä–æ–≤–µ—Ä–∏–º —Ç–∏–ø, –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –Ω–µ –¥–∞—Å—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ.

## üîπ 3) –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –≤–Ω–µ—à–Ω–µ–≥–æ API

–ü–ª–æ—Ö–æ:

```ts
async function getData(): Promise<any> {
  return fetch("/api/user").then((r) => r.json());
}

const user = await getData();
console.log(user.email.toLowerCase()); // üí•
```

–•–æ—Ä–æ—à–æ:

```ts
async function getData(): Promise<unknown> {
  return fetch("/api/user").then((r) => r.json());
}

const user = await getData();
if (
  typeof user === "object" &&
  user !== null &&
  "email" in user &&
  typeof (user as any).email === "string"
) {
  console.log((user as { email: string }).email.toLowerCase());
}
```

## üîπ 4) –°—É–∂–µ–Ω–∏–µ unknown –≤ –æ–±–æ–±—â—ë–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏

```ts
function isArrayOfStrings(value: unknown): value is string[] {
  return Array.isArray(value) && value.every((v) => typeof v === "string");
}

const maybe = JSON.parse('["a", "b"]') as unknown;
if (isArrayOfStrings(maybe)) {
  maybe.forEach((s) => console.log(s.toUpperCase()));
}
```

‚û°Ô∏è isArrayOfStrings –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç unknown ‚Üí string[], –∏ –¥–∞–ª—å—à–µ –º—ã —Ä–∞–±–æ—Ç–∞–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ.

## üîπ 5) unknown –≤ generic-–ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö

–ü–ª–æ—Ö–æ (any):

```ts
function identity<T = any>(value: T): T {
  return value;
}
```

–•–æ—Ä–æ—à–æ (unknown):

```ts
function identity<T = unknown>(value: T): T {
  return value;
}
```

‚û°Ô∏è any –æ—Ç–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏, –∞ unknown –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç —É—Ç–æ—á–Ω—è—Ç—å —Ç–∏–ø –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏.

## üîπ 6) –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —á–µ—Ä–µ–∑ in –∏ typeof

```ts
function handle(data: unknown) {
  if (typeof data === "object" && data && "message" in data) {
    const msg = (data as { message: string }).message;
    console.log(msg.toUpperCase());
  } else {
    console.warn("Unexpected data", data);
  }
}
```

## üîπ 7) –û–±—ë—Ä—Ç–∫–∞ –¥–ª—è –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è —Ç–∏–ø–æ–≤ (—É–∑–∫–∏–π —à–ª—é–∑)

```ts
function ensureUser(data: unknown): asserts data is { id: string; email: string } {
  if (
    typeof data !== "object" ||
    data === null ||
    typeof (data as any).id !== "string" ||
    typeof (data as any).email !== "string"
  ) {
    throw new Error("Invalid user");
  }
}

const u = JSON.parse('{"id":"1","email":"a@b.c"}') as unknown;
ensureUser(u);
console.log(u.email); // —Ç–µ–ø–µ—Ä—å TS –∑–Ω–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ {id, email}
```

## üîπ 8) –ü–∞—Ç—Ç–µ—Ä–Ω ¬´–∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–æ—Å—Ç¬ª

–•—Ä–∞–Ω–∏–º unknown –∫–∞–∫ ¬´—Å—ã—Ä—ã–µ¬ª –¥–∞–Ω–Ω—ã–µ, –∞ –¥–æ—Å—Ç—É–ø –¥–∞—ë–º —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏.

```ts
let raw: unknown;

export function setRaw(value: unknown) {
  raw = value;
}

export function getAsUser(): { id: string; name: string } | null {
  if (typeof raw === "object" && raw && "id" in raw && "name" in raw) {
    return raw as { id: string; name: string };
  }
  return null;
}
```

‚û°Ô∏è –í–µ—Å—å –Ω–µ—Å—Ç—Ä–æ–≥–∏–π –∫–æ–¥ ‚Äî –≤–Ω—É—Ç—Ä–∏, –∞ —Å–Ω–∞—Ä—É–∂–∏ API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

## üí° –ò—Ç–æ–≥

- –°–∏—Ç—É–∞—Ü–∏—è –ë—ã–ª–æ (any) –õ—É—á—à–µ (unknown)
- –ü–∞—Ä—Å–∏–Ω–≥ YAML/JSON parseYAML(): any parseYAML(): unknown
- –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ API Promise<any> Promise<unknown>
- –ù–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è arg: any arg: unknown
- –§–æ–ª–±—ç–∫ –≤ generic <T = any> <T = unknown>

## ‚öôÔ∏è –ì–ª–∞–≤–Ω–∞—è –º—ã—Å–ª—å:

unknown ‚Äî —ç—Ç–æ ‚Äú–±–µ–∑–æ–ø–∞—Å–Ω—ã–π any‚Äù.
–û–Ω –¥–∞—ë—Ç —Ç—É –∂–µ –≥–∏–±–∫–æ—Å—Ç—å, –Ω–æ –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –≤–∞—Å –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∏–ø –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º,
–ø—Ä–µ–≤—Ä–∞—â–∞—è –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –æ–ø–∞—Å–Ω—ã–µ —É—á–∞—Å—Ç–∫–∏ –∫–æ–¥–∞ –≤ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–µ.

## –°–õ–ï–î–£–ï–¢ –ó–ê–ü–û–ú–ù–ò–¢–¨

–¢–∏–ø unknown ‚Äî —ç—Ç–æ —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ any. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ, –∫–æ–≥–¥–∞
—É –≤–∞—Å –µ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ, –Ω–æ –≤—ã –Ω–µ –∑–Ω–∞–µ—Ç–µ –µ–≥–æ —Ç–∏–ø –∏–ª–∏ –æ–Ω –≤–∞—Å –Ω–µ –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç.

–ü—Ä–∏–º–µ–Ω—è–π—Ç–µ unknown, —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Ç–∏–ø–∞
–∏–ª–∏ –¥—Ä—É–≥—É—é —Ñ–æ—Ä–º—É —Å—É–∂–µ–Ω–∏—è.

–ò–∑–±–µ–≥–∞–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ç–∏–ø–æ–≤, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏—è: –æ–Ω–∏
—Å–æ–∑–¥–∞—é—Ç –ª–æ–∂–Ω–æ–µ –æ—â—É—â–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

–£—á–∏—Ç–µ—Å—å –ø–æ–Ω–∏–º–∞—Ç—å —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É {}, object –∏ unknown.
